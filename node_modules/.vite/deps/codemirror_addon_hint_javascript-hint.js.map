{
  "version": 3,
  "sources": ["../../codemirror/addon/hint/javascript-hint.js"],
  "sourcesContent": ["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var Pos = CodeMirror.Pos;\n\n  function forEach(arr, f) {\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\n  }\n\n  function arrayContains(arr, item) {\n    if (!Array.prototype.indexOf) {\n      var i = arr.length;\n      while (i--) {\n        if (arr[i] === item) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return arr.indexOf(item) != -1;\n  }\n\n  function scriptHint(editor, keywords, getToken, options) {\n    // Find the token at the cursor\n    var cur = editor.getCursor(), token = getToken(editor, cur);\n    if (/\\b(?:string|comment)\\b/.test(token.type)) return;\n    var innerMode = CodeMirror.innerMode(editor.getMode(), token.state);\n    if (innerMode.mode.helperType === \"json\") return;\n    token.state = innerMode.state;\n\n    // If it's not a 'word-style' token, ignore the token.\n    if (!/^[\\w$_]*$/.test(token.string)) {\n      token = {start: cur.ch, end: cur.ch, string: \"\", state: token.state,\n               type: token.string == \".\" ? \"property\" : null};\n    } else if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n\n    var tprop = token;\n    // If it is a property, find out what it is a property of.\n    while (tprop.type == \"property\") {\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\n      if (tprop.string != \".\") return;\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\n      if (!context) var context = [];\n      context.push(tprop);\n    }\n    return {list: getCompletions(token, context, keywords, options),\n            from: Pos(cur.line, token.start),\n            to: Pos(cur.line, token.end)};\n  }\n\n  function javascriptHint(editor, options) {\n    return scriptHint(editor, javascriptKeywords,\n                      function (e, cur) {return e.getTokenAt(cur);},\n                      options);\n  };\n  CodeMirror.registerHelper(\"hint\", \"javascript\", javascriptHint);\n\n  function getCoffeeScriptToken(editor, cur) {\n  // This getToken, it is for coffeescript, imitates the behavior of\n  // getTokenAt method in javascript.js, that is, returning \"property\"\n  // type and treat \".\" as independent token.\n    var token = editor.getTokenAt(cur);\n    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {\n      token.end = token.start;\n      token.string = '.';\n      token.type = \"property\";\n    }\n    else if (/^\\.[\\w$_]*$/.test(token.string)) {\n      token.type = \"property\";\n      token.start++;\n      token.string = token.string.replace(/\\./, '');\n    }\n    return token;\n  }\n\n  function coffeescriptHint(editor, options) {\n    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);\n  }\n  CodeMirror.registerHelper(\"hint\", \"coffeescript\", coffeescriptHint);\n\n  var stringProps = (\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight \" +\n                     \"toUpperCase toLowerCase split concat match replace search\").split(\" \");\n  var arrayProps = (\"length concat join splice push pop shift unshift slice reverse sort indexOf \" +\n                    \"lastIndexOf every some filter forEach map reduce reduceRight \").split(\" \");\n  var funcProps = \"prototype apply call bind\".split(\" \");\n  var javascriptKeywords = (\"break case catch class const continue debugger default delete do else export extends false finally for function \" +\n                  \"if in import instanceof new null return super switch this throw true try typeof var void while with yield\").split(\" \");\n  var coffeescriptKeywords = (\"and break catch class continue delete do else extends false finally for \" +\n                  \"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\").split(\" \");\n\n  function forAllProps(obj, callback) {\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n      for (var name in obj) callback(name)\n    } else {\n      for (var o = obj; o; o = Object.getPrototypeOf(o))\n        Object.getOwnPropertyNames(o).forEach(callback)\n    }\n  }\n\n  function getCompletions(token, context, keywords, options) {\n    var found = [], start = token.string, global = options && options.globalScope || window;\n    function maybeAdd(str) {\n      if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);\n    }\n    function gatherCompletions(obj) {\n      if (typeof obj == \"string\") forEach(stringProps, maybeAdd);\n      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);\n      else if (obj instanceof Function) forEach(funcProps, maybeAdd);\n      forAllProps(obj, maybeAdd)\n    }\n\n    if (context && context.length) {\n      // If this is a property, see if it belongs to some object we can\n      // find in the current environment.\n      var obj = context.pop(), base;\n      if (obj.type && obj.type.indexOf(\"variable\") === 0) {\n        if (options && options.additionalContext)\n          base = options.additionalContext[obj.string];\n        if (!options || options.useGlobalScope !== false)\n          base = base || global[obj.string];\n      } else if (obj.type == \"string\") {\n        base = \"\";\n      } else if (obj.type == \"atom\") {\n        base = 1;\n      } else if (obj.type == \"function\") {\n        if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&\n            (typeof global.jQuery == 'function'))\n          base = global.jQuery();\n        else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))\n          base = global._();\n      }\n      while (base != null && context.length)\n        base = base[context.pop().string];\n      if (base != null) gatherCompletions(base);\n    } else {\n      // If not, just look in the global object, any local scope, and optional additional-context\n      // (reading into JS mode internals to get at the local and global variables)\n      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);\n      for (var c = token.state.context; c; c = c.prev)\n        for (var v = c.vars; v; v = v.next) maybeAdd(v.name)\n      for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);\n      if (options && options.additionalContext != null)\n        for (var key in options.additionalContext)\n          maybeAdd(key);\n      if (!options || options.useGlobalScope !== false)\n        gatherCompletions(global);\n      forEach(keywords, maybeAdd);\n    }\n    return found;\n  }\n});\n"],
  "mappings": "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",
  "names": ["CodeMirror", "obj"]
}
