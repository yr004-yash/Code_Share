import*as e from"react";import r,{PrimeReactContext as n}from"primereact/api";import{useStyle as t,useMountEffect as i,useUpdateEffect as o,useUnmountEffect as p}from"primereact/hooks";import{ObjectUtils as u,DomHandler as c}from"primereact/utils";var a={defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:"\n@layer primereact {\n    .p-ripple {\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-ink {\n        display: block;\n        position: absolute;\n        background: rgba(255, 255, 255, 0.5);\n        border-radius: 100%;\n        transform: scale(0);\n    }\n    \n    .p-ink-active {\n        animation: ripple 0.4s linear;\n    }\n    \n    .p-ripple-disabled .p-ink {\n        display: none !important;\n    }\n}\n\n@keyframes ripple {\n    100% {\n        opacity: 0;\n        transform: scale(2.5);\n    }\n}\n\n"},getProps:function(e){return u.getMergedProps(e,a.defaultProps)},getOtherProps:function(e){return u.getDiffProps(e,a.defaultProps)}},l=e.memo(e.forwardRef((function(){var u=e.useRef(null),l=e.useRef(null),s=e.useContext(n);t(a.css.styles,{name:"ripple"});var f=function(){return u.current&&u.current.parentElement},d=function(){l.current&&l.current.addEventListener("pointerdown",m)},m=function(e){var r=c.getOffset(l.current),n=e.pageX-r.left+document.body.scrollTop-c.getWidth(u.current)/2,t=e.pageY-r.top+document.body.scrollLeft-c.getHeight(u.current)/2;g(n,t)},g=function(e,r){u.current&&"none"!==getComputedStyle(u.current,null).display&&(c.removeClass(u.current,"p-ink-active"),v(),u.current.style.top=r+"px",u.current.style.left=e+"px",c.addClass(u.current,"p-ink-active"))},v=function(){if(u.current&&!c.getHeight(u.current)&&!c.getWidth(u.current)){var e=Math.max(c.getOuterWidth(l.current),c.getOuterHeight(l.current));u.current.style.height=e+"px",u.current.style.width=e+"px"}};return i((function(){u.current&&(l.current=f(),v(),d())})),o((function(){u.current&&!l.current&&(l.current=f(),v(),d())})),p((function(){u.current&&(l.current=null,l.current&&l.current.removeEventListener("pointerdown",m))})),s&&s.ripple||r.ripple?e.createElement("span",{role:"presentation",ref:u,className:"p-ink",onAnimationEnd:function(e){c.removeClass(e.currentTarget,"p-ink-active")}}):null})));l.displayName="Ripple";export{l as Ripple};
